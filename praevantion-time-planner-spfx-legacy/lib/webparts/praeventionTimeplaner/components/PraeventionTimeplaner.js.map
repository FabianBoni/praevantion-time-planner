{"version":3,"sources":["webparts/praeventionTimeplaner/components/PraeventionTimeplaner.tsx"],"names":[],"mappings":"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","file":"webparts/praeventionTimeplaner/components/PraeventionTimeplaner.js","sourcesContent":["import * as React from 'react';\r\nimport styles from './PraeventionTimeplaner.module.scss';\r\nimport { IPraeventionTimeplanerProps } from './IPraeventionTimeplanerProps';\r\nimport { escape } from '@microsoft/sp-lodash-subset';\r\nimport { TeamMember, AppointmentRequest, ScheduledAppointment, School, formatDate } from './types';\r\nimport { SchedulingService } from './schedulingService';\r\nimport { sampleTeamMembers, baselSchools } from './sampleData';\r\n\r\n\r\nexport default class PraeventionTimeplaner extends React.Component<IPraeventionTimeplanerProps, any> {\r\n  constructor(props: IPraeventionTimeplanerProps) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      teamMembers: sampleTeamMembers,\r\n      schools: baselSchools,\r\n      appointmentRequest: {\r\n        schoolId: '',\r\n        teacherName: '',\r\n        teacherEmail: '',\r\n        preferredDays: [],\r\n        preferredTimeStart: '08:45',\r\n        preferredTimeEnd: '10:15',\r\n        notes: ''\r\n      },\r\n      searchResults: [],\r\n      isSearching: false,\r\n      existingAppointments: []\r\n    };\r\n  }\r\n\r\n  private handleDayToggle = (day: string) => {\r\n    this.setState((prevState: any) => ({\r\n      appointmentRequest: {\r\n        ...prevState.appointmentRequest,\r\n        preferredDays: prevState.appointmentRequest.preferredDays.includes(day)\r\n          ? prevState.appointmentRequest.preferredDays.filter((d: string) => d !== day)\r\n          : [...prevState.appointmentRequest.preferredDays, day]\r\n      }\r\n    }));\r\n  };\r\n\r\n  private handleSearch = async () => {\r\n    const { appointmentRequest, schools, teamMembers, existingAppointments } = this.state;\r\n\r\n    if (!appointmentRequest.schoolId || !appointmentRequest.teacherName || appointmentRequest.preferredDays.length === 0) {\r\n      alert('Bitte füllen Sie alle Pflichtfelder aus.');\r\n      return;\r\n    }\r\n\r\n    this.setState({ isSearching: true });\r\n\r\n    await new Promise(resolve => setTimeout(resolve, 1000));\r\n\r\n    const selectedSchool = schools.find((s: School) => s.id === appointmentRequest.schoolId);\r\n    if (!selectedSchool) {\r\n      alert('Schule nicht gefunden.');\r\n      this.setState({ isSearching: false });\r\n      return;\r\n    }\r\n\r\n    const results = SchedulingService.findAvailableAppointmentSeries(\r\n      teamMembers,\r\n      appointmentRequest,\r\n      selectedSchool,\r\n      existingAppointments\r\n    );\r\n\r\n    this.setState({ searchResults: results, isSearching: false });\r\n  };\r\n\r\n  private getDayDisplayName = (day: string): string => {\r\n    const dayNames: { [key: string]: string } = {\r\n      'monday': 'Montag',\r\n      'tuesday': 'Dienstag',\r\n      'wednesday': 'Mittwoch',\r\n      'thursday': 'Donnerstag',\r\n      'friday': 'Freitag',\r\n      'saturday': 'Samstag',\r\n      'sunday': 'Sonntag'\r\n    };\r\n    return dayNames[day] || day;\r\n  };\r\n\r\n  private getTeamPairStats = () => {\r\n    const { teamMembers } = this.state;\r\n    const pairs = SchedulingService.generateTeamPairs(teamMembers);\r\n    return {\r\n      totalPairs: pairs.length,\r\n      maleMembers: teamMembers.filter((m: TeamMember) => m.gender === 'male').length,\r\n      femaleMembers: teamMembers.filter((m: TeamMember) => m.gender === 'female').length\r\n    };\r\n  };\r\n\r\n  public render(): React.ReactElement<IPraeventionTimeplanerProps> {\r\n    const { appointmentRequest, searchResults, isSearching, teamMembers, schools } = this.state;\r\n    const stats = this.getTeamPairStats();\r\n\r\n    return (\r\n      <div className={styles.praeventionTimeplaner}>\r\n        <div className={styles.container}>\r\n          {/* Header */}\r\n          <div className={styles.header}>\r\n            <h1>Prävention Terminplaner</h1>\r\n            <p>Intelligente Terminplanung für Schulbesuche in Basel-Stadt</p>\r\n          </div>\r\n\r\n          {/* Team-Übersicht */}\r\n          <div className={styles.section}>\r\n            <h2>Team-Übersicht</h2>\r\n            <div className={`${styles.alert} ${styles.info}`}>\r\n              <strong>Team-Statistik:</strong> {stats.totalPairs} mögliche gemischtgeschlechtliche Teampaare\r\n              ({stats.maleMembers} Männer, {stats.femaleMembers} Frauen)\r\n            </div>\r\n            <div className={styles['team-grid']}>\r\n              {teamMembers.map((member: TeamMember) => (\r\n                <div key={member.id} className={styles['team-member']}>\r\n                  <h3>{member.name}</h3>\r\n                  <span className={`${styles.gender} ${styles[member.gender]}`}>\r\n                    {member.gender === 'male' ? 'Mann' : 'Frau'}\r\n                  </span>\r\n                  <p><strong>Email:</strong> {member.email}</p>\r\n                  <p><strong>Verfügbarkeit:</strong> Mo-Fr (vereinfacht dargestellt)</p>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Terminanfrage */}\r\n          <div className={styles.section}>\r\n            <h2>Neue Terminanfrage</h2>\r\n\r\n            <div className={styles['two-column']}>\r\n              <div>\r\n                <div className={styles['form-group']}>\r\n                  <label>Schule *</label>\r\n                  <select\r\n                    value={appointmentRequest.schoolId}\r\n                    onChange={(e) => this.setState({ appointmentRequest: { ...appointmentRequest, schoolId: e.target.value } })}\r\n                  >\r\n                    <option value=\"\">Bitte wählen...</option>\r\n                    {schools.map((school: School) => (\r\n                      <option key={school.id} value={school.id}>\r\n                        {school.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n\r\n                <div className={styles['form-group']}>\r\n                  <label>Name der Lehrperson *</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={appointmentRequest.teacherName}\r\n                    onChange={(e) => this.setState({ appointmentRequest: { ...appointmentRequest, teacherName: e.target.value } })}\r\n                    placeholder=\"z.B. Frau Meier\"\r\n                  />\r\n                </div>\r\n\r\n                <div className={styles['form-group']}>\r\n                  <label>Email der Lehrperson</label>\r\n                  <input\r\n                    type=\"email\"\r\n                    value={appointmentRequest.teacherEmail}\r\n                    onChange={(e) => this.setState({ appointmentRequest: { ...appointmentRequest, teacherEmail: e.target.value } })}\r\n                    placeholder=\"lehrperson@schule.ch\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <div className={styles['form-group']}>\r\n                  <label>Bevorzugte Wochentage *</label>\r\n                  <div className={styles['time-slot-grid']}>\r\n                    {['monday', 'tuesday', 'wednesday', 'thursday', 'friday'].map(day => (\r\n                      <div\r\n                        key={day}\r\n                        className={`${styles['time-slot']} ${appointmentRequest.preferredDays.includes(day) ? styles.selected : ''}`}\r\n                        onClick={() => this.handleDayToggle(day)}\r\n                      >\r\n                        {this.getDayDisplayName(day)}\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className={styles['form-group']}>\r\n                  <label>Startzeit</label>\r\n                  <input\r\n                    type=\"time\"\r\n                    value={appointmentRequest.preferredTimeStart}\r\n                    onChange={(e) => this.setState({ appointmentRequest: { ...appointmentRequest, preferredTimeStart: e.target.value } })}\r\n                  />\r\n                </div>\r\n\r\n                <div className={styles['form-group']}>\r\n                  <label>Endzeit</label>\r\n                  <input\r\n                    type=\"time\"\r\n                    value={appointmentRequest.preferredTimeEnd}\r\n                    onChange={(e) => this.setState({ appointmentRequest: { ...appointmentRequest, preferredTimeEnd: e.target.value } })}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className={styles['form-group']}>\r\n              <label>Bemerkungen</label>\r\n              <textarea\r\n                rows={3}\r\n                value={appointmentRequest.notes}\r\n                onChange={(e) => this.setState({ appointmentRequest: { ...appointmentRequest, notes: e.target.value } })}\r\n                placeholder=\"Weitere Informationen oder Wünsche...\"\r\n              />\r\n            </div>\r\n\r\n            <button\r\n              className={styles.btn}\r\n              onClick={this.handleSearch}\r\n              disabled={isSearching}\r\n            >\r\n              {isSearching ? 'Suche läuft...' : 'Termine suchen'}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Suchergebnisse */}\r\n          {isSearching && (\r\n            <div className={styles.section}>\r\n              <div className={styles.loading}>\r\n                Suche nach verfügbaren Terminen...\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {!isSearching && searchResults.length > 0 && (\r\n            <div className={styles.section}>\r\n              <h2>Verfügbare Terminserien</h2>\r\n              <div className={`${styles.alert} ${styles.success}`}>\r\n                {searchResults.length} vollständige Terminserien gefunden!\r\n                Jede Serie umfasst 5 Termine im Abstand von 2-4 Wochen.\r\n              </div>\r\n\r\n              {searchResults.map((series: ScheduledAppointment[], seriesIndex: number) => (\r\n                <div key={seriesIndex} className={styles['appointment-slot']}>\r\n                  <h3>\r\n                    Option {seriesIndex + 1}: {series[0].teamMembers[0].name} & {series[0].teamMembers[1].name}\r\n                  </h3>\r\n\r\n                  <div className={styles['appointment-details']}>\r\n                    {series.map((appointment: ScheduledAppointment) => (\r\n                      <div key={appointment.id}>\r\n                        <strong>Termin {appointment.sessionNumber}</strong>\r\n                        <div>{formatDate(appointment.date)}</div>\r\n                        <div>{appointment.startTime} - {appointment.endTime}</div>\r\n                        <div className=\"text-sm text-gray-600\">\r\n                          {appointment.teamMembers[0].name} & {appointment.teamMembers[1].name}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div style={{ marginTop: '1rem' }}>\r\n                    <button className={styles.btn}>\r\n                      Diese Terminserie buchen\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {!isSearching && searchResults.length === 0 && appointmentRequest.schoolId && (\r\n            <div className={styles.section}>\r\n              <div className={`${styles.alert} ${styles.warning}`}>\r\n                Keine vollständigen Terminserien gefunden.\r\n                Versuchen Sie andere Wochentage oder Zeiten, oder kontaktieren Sie das Team für alternative Lösungen.\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Informationen */}\r\n          <div className={styles.section}>\r\n            <h2>Systeminformationen</h2>\r\n            <div className={`${styles.alert} ${styles.info}`}>\r\n              <strong>Über das System:</strong><br />\r\n              • {schools.length} Schulen in Basel-Stadt erfasst<br />\r\n              • {teamMembers.length} Teammitglieder verfügbar<br />\r\n              • {stats.totalPairs} mögliche Teamzusammenstellungen<br />\r\n              • Automatische Suche nach 5er-Terminserien mit 2-4 Wochen Abstand<br />\r\n              • Integration von Outlook-Kalendern geplant<br />\r\n              • Unterstützung für ca. 400 Termine jährlich\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":"..\\..\\..\\..\\src"}